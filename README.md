<div align="center">

# Open Skills

### Secure, Standardized, "Copy-Paste" Compatible Agent Skills Runtime

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)](https://www.python.org/)
[![MCP Status](https://img.shields.io/badge/MCP-Compatible-green)](https://modelcontextprotocol.io/)
[![Docker](https://img.shields.io/badge/Docker-Sandboxed-2496ED)](https://www.docker.com/)

[English](README.md) | [ÁÆÄ‰Ωì‰∏≠Êñá](README_zh.md)

</div>

---

> **"Open Skills"** was born to solve the security and dependency nightmares of running Agent code directly. We perfectly replicate Anthropic's powerful Skills protocol and encapsulate it in a **secure, isolated, out-of-the-box** Docker sandbox.

## üöÄ Mission

Open Skills is a generic skills runtime based on the [Model Context Protocol (MCP)](https://modelcontextprotocol.io/). It aims to enable any MCP-supported AI application (such as Claude Desktop, Cursor, Windsurf) to securely execute complex tasks, while addressing two major pain points:

1. **Dependency Hell**: No more configuring complex Python environments for every script.
2. **Security Risks**: Completely eliminate the risk of AI modifying system files or executing malicious code on your host machine.

## ‚ú® Features

| Feature | Description |
| :--- | :--- |
| **üì¶ Out of the Box** | **Copy-Paste Compatibility**. Simply copy folders from [anthropics/skills](https://github.com/anthropics/skills) without modifying a single line of code. The smart adapter handles path mapping automatically. |
| **üõ°Ô∏è Sandbox Security** | All code runs inside a **Docker Container**. Agents can only access the isolated `/share` directory, keeping your host system absolutely safe. |
| **üîã Batteries Included** | Pre-installed with mainstream dependencies like Pandas, Numpy, Playwright, LibreOffice, etc. Say goodbye to `pip install` troubles and focus on the task. |

## üîê Architecture & Design

Open Skills is carefully verified to balance security and usability:

### 1. The Agent Model

The Agent runs as a **`agent` (uid=1000)** user inside the container, not Root.

* **Permission Boundary**: The capability to destroy the system (e.g., `apt-get`, `rm -rf /bin`) is stripped, but all permissions for creative work (code read/write, script execution) are retained.
* **File Ownership**: The `agent` user has full read/write access to the `/share` workspace via Docker mounting. This ensures files generated by the Agent are owned by a regular user on the host, preventing "root user only" file locking issues.

### 2. Smart Node.js Setup

To solve the classic deadlock where "Agent wants to install a package but lacks permission", we used an **Environment Injection** design:

* **Seamless Installation**: configured `NPM_CONFIG_PREFIX="/share/.npm-global"`. When the Agent executes `npm install package`, the package is automatically installed under `/share` where it has write permissions. The Agent thinks it's installing globally, but it's actually installing locally‚Äî**Zero Config, Zero Error**.

## üìÇ Directory & Architecture

```text
open-skills/
‚îú‚îÄ‚îÄ open_skills/               # [Core] Core logic package
‚îÇ   ‚îú‚îÄ‚îÄ cli.py                 # MCP Server entry point
‚îÇ   ‚îú‚îÄ‚îÄ sandbox.py             # Docker container manager
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile             # Batteries-included image definition
‚îÇ   ‚îî‚îÄ‚îÄ skills/                # Skills library (Put your Skills here)
‚îú‚îÄ‚îÄ docs/                      # [Docs] Documentation & Guides
‚îÇ   ‚îú‚îÄ‚îÄ EN/                    # English Documentation
‚îÇ   ‚îî‚îÄ‚îÄ ZH/                    # Chinese Documentation
‚îú‚îÄ‚îÄ README.md                  # English Documentation
‚îú‚îÄ‚îÄ README_zh.md               # Chinese Documentation
‚îî‚îÄ‚îÄ LICENSE                    # MIT License
```

## üõ†Ô∏è Toolbox

Once connected to the Open Skills MCP service, your Agent gains the following superpowers:

* üìö **`manage_skills`**: **Skills Librarian**. List and view detailed documentation for available skills (with automatic sandbox path injection).
* üíª **`execute_command`**: **Execution Engine**. Run Bash commands (Python, Node, Shell, etc.) inside the secure container.
* üìÇ **`read_file` / `write_file`**: **File Operations**. Securely read and write files in the workspace (`cwd`).
* ‚òÅÔ∏è **`upload_to_s3` / `download_from_s3`**: **Cloud Transfer**. After configuring .env, the agent can automatically transfer files to and from S3.

## üí° Best Practices

### Adapting Agents to the Sandbox Environment

Since we have completely decoupled the system-level execution environment of Skills, redesigned the sandbox mechanism, and converted it into an MCP tool, I suggest adding a **Prompt Secret** to your Agent Prompt to help it better master the sandbox environment.

[Agent Guide (MD)](docs/EN/AGENT_PROMPT.md) > Insert this prompt into your original System Prompt.

**This solves:**

1. **Spatial Awareness**: Clarifies that `/share` corresponds to the current directory.
2. **Standard Procedure**: Enforces the SOP of "Read Docs -> Write Code -> Run Tests".
3. **Permission Confidence**: Gives the Agent confidence to execute commands within the sandbox.

### ‚ö†Ô∏è About "Meta-Skills"

**Do not use tools like `skill-creator` (that let AI write skills) in production.**

* **Risk**: Bypasses security reviews.
* **Recommendation**: **Human reviews code, AI executes operations**.

## ‚ö° Quick Start

### 1. Build Image (Required)

This is a **mandatory** step. To ensure fast startup, the image must be pre-built:

```powershell
docker build -t open-skills:latest open_skills/
```

### 2. Install

```powershell
cd apps/open-skills
pip install -e .
```

### 3. Configure MCP

We recommend using **SSE (Server-Sent Events)** mode as it supports remote connections and is easier to debug.

#### üöÄ Mode A: SSE (Recommended - HTTP Server)

First, start the HTTP server:

```bash
# Requires uvicorn (pip install uvicorn)
uvicorn open_skills.cli:mcp.sse_app --port 8000
```

Then, configure your client:

```json
{
  "mcpServers": {
    "open-skills": {
      "serverUrl": "http://localhost:8000/sse"
    }
  }
}
```

#### üìÅ Workspace Binding

By default, the workspace is bound to the current directory where you run `uvicorn`.
To specify a different directory, use the `.env` file in the project root:

1. Copy template: `cp env.template .env`
2. Update config:

```bash
# .env
HOST_WORK_DIR="E:\Your_Projects"
```

<details>
<summary><strong>Mode B: Stdio (Legacy - Claude Desktop / VSCode)</strong></summary>

This is the standard mode where the server starts automatically with the host app.

**Critical Point**: You MUST explicitly specify `cwd` (Current Working Directory), otherwise generated files will end up in your home directory!

#### Windows

Add to `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "open-skills": {
      "command": "python",
      "args": ["-m", "open_skills.cli"],
      "cwd": "E:\\Your_Projects" 
    }
  }
}
```

#### macOS / Linux

```json
{
  "mcpServers": {
    "open-skills": {
      "command": "python3",
      "args": ["-m", "open_skills.cli"],
      "cwd": "/home/user/projects/your-project"
    }
  }
}
```

</details>

---

<div align="center">
Made with ‚ù§Ô∏è for the Agentic Future
</div>

## üìÑ License

This project is licensed under the [MIT License](LICENSE).
